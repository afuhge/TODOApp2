<div class="relative sticky top-0 z-30">
  <div class="blurred-circle bottom-10 -left-4 w-1/3 h-20 bg-cyan-400  z-0" [ngClass]="{'dark:bg-cyan-300' : currentUser}">
  </div>
  <div class="blurred-circle bottom-10 -right-4 w-1/3 h-20 bg-yellow-400 z-0" [ngClass]="{'dark:bg-yellow-300' : currentUser}">
  </div>
  <div class="blurred-circle bottom-10 left-1/4 w-1/2 h-20 bg-rose-400 z-0" [ngClass]="{'dark:bg-rose-300' : currentUser}">
  </div>

  <div class="relative bg-gray-50 flex justify-center items-center py-4 rounded-b-md" [ngClass]="{'dark:bg-gray-800' : currentUser}">
    <div class="flex justify-center items-center space-x-12">
      <ng-container *ngIf="!currentUser; else hasUser">
        <a [routerLink]="landingURL" class="flex items-center space-x-4 cursor-pointer">
          <div>
            <img class="h-8 w-auto sm:h-10" src="https://tailwindui.com/img/logos/workflow-mark-cyan-600.svg" alt="">

          </div>
          <div class="text-2xl">
            TODOAPP
          </div>
        </a>
      </ng-container>
      <ng-template #hasUser>
        <a [routerLink]="dashboardURL" class="flex items-center space-x-4 cursor-pointer">
          <div>
            <img class="h-8 w-auto sm:h-10" src="https://tailwindui.com/img/logos/workflow-mark-cyan-600.svg" alt="">

          </div>
          <div class="text-2xl dark:text-gray-300">
            TODOAPP
          </div>
        </a>
      </ng-template>
      <ng-container *ngIf="currentUser">
        <div>
          <a [routerLink]="dashboardURL" [routerLinkActive]="'text-cyan-600'"
             class="font-medium text-gray-500 hover:text-cyan-600 dark:text-gray-400 dark:hover:text-cyan-500 cursor-pointer">
            Dashboard
          </a>
        </div>

        <div>
          <a [routerLink]="todoURL" [routerLinkActive]="'text-rose-600'"
             class="font-medium text-gray-500 hover:text-rose-600 dark:text-gray-400 dark:hover:text-rose-500 cursor-pointer">
            TODOs
          </a>
        </div>
        <div>
          <a [routerLink]="userURL" [routerLinkActive]="'text-yellow-500'"
             class="font-medium text-gray-500 hover:text-yellow-500 dark:text-gray-400 dark:hover:text-yellow-400 cursor-pointer">
            User Management
          </a>
        </div>
      </ng-container>
      <div *ngIf="!currentUser">
        <div class="flex space-x-2">
          <div>
            <a [routerLink]="loginURL"
               class="font-medium rounded-md text-cyan-500 hover:text-cyan-600 cursor-pointer border-cyan-500 hover:border-cyan-600 border-2 p-2">
              Sign In
            </a>
          </div>
          <div>
            <a [routerLink]="signUpURL"
               class="font-medium text-white rounded-md border-2 border-cyan-500 bg-cyan-500 hover:bg-cyan-600 hover:border-cyan-600  cursor-pointer p-2">
              Sign Up
            </a>
          </div>
        </div>
      </div>
      <!-- This example requires Tailwind CSS v2.0+ -->
      <ng-container *ngIf="currentUser">
        <div class="relative inline-block text-left">
          <div>
            <button type="button" class="focus:outline-none inline-flex justify-center " id="menu-button"
                    aria-expanded="true" aria-haspopup="true">
              <div class="flex space-x-2 items-center">
                <div class="rounded-full w-full h-full text-white p-3 flex justify-center font-semibold"
                     [style.background-color]="intToRGB()">
                  {{ currentUser | initials}}
                </div>
                <div class="hover:text-cyan-600 dark:text-gray-400 dark:hover:text-cyan-400">
                  <button (click)="toggleDropDown()">
                    <fa-icon [icon]="chevronDown"></fa-icon>
                  </button>
                </div>
              </div>

            </button>
          </div>

          <div [hidden]="hidden"
               class="origin-top-right absolute right-0 mt-2 w-52 rounded-md shadow-lg bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none"
               role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
            <div class="py-1" role="none">
              <div class=" px-4 py-2 flex items-center space-x-2">
                <form [formGroup]="form" class="flex items-center space-x-2">
                  <label for="toogleButton" class="flex items-center cursor-pointer">
                    <!-- toggle -->
                    <div class="relative">
                      <input id="toogleButton" type="checkbox" formControlName="toggle" class="hidden"/>
                      <!-- path -->
                      <div
                        class="toggle-path bg-gray-200 w-9 h-5 bg-cyan-500 dark:bg-cyan-400 rounded-full shadow-inner"
                      ></div>
                      <!-- crcle -->
                      <div
                        class="toggle-circle absolute w-3.5 h-3.5 bg-white rounded-full shadow inset-y-0 left-0"
                      ></div>
                    </div>
                  </label>
                  <div id="text" class="text-cyan-500 dark:text-cyan-400">
                    Light Theme
                  </div>
                </form>
              </div>
              <a
                class="text-cyan-500 hover:text-cyan-600 dark:text-cyan-400 dark:hover:text-cyan-500 cursor-pointer block w-full text-left px-4 py-2"
                (click)="signOut()" role="menuitem" tabindex="-1" id="menu-item-1">
                <fa-icon [icon]="logout"></fa-icon>
                Logout
              </a>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
